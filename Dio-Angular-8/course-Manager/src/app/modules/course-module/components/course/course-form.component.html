
<h2>Course Info</h2>
<br/>

<form #courseForm="ngForm" *ngIf="course">
   
   <div class="form-group row">
      <label class="col-sm-1">ID: {{course.id}}</label>
   </div>

   <div class="form-group row">
      <label class="col-sm-1 col-form-label">Code:</label>
      <div class="col-sm-6">
         <input [(ngModel)]="course.code" name="code" #courseCode="ngModel" class="form-control" required="true"
            minlength="8" maxlength="8" [ngClass]="{'is-invalid' : courseCode.invalid}">
         <div class="invalid-feedback">
            <span>Course code is required!!</span>
         </div>
      </div>
   </div>

   <div class="form-group row">  
      <label class="col-sm-1 col-form-label">Duration:</label>
      <div class="col-sm-5">
         <input 
            [(ngModel)]="course.duration"
            name="duration" 
            #courseDuration="ngModel" 
            class="col-sm-2 form-control" 
            required="true" 
            type="number"
            min="0"
            [ngClass]="{'is-invalid' : courseDuration.invalid}"
         >      
         <div class="invalid-feedback">
            <span>Course duration is required!!</span>
         </div>
      </div>
      <span class="col-sm-1">hrs.</span>
   </div>
      
   <div class="form-group row">
      <label class="col-sm-1 col-form-label">Release:</label>
      <div class="col-sm-6">
         <input 
            [(ngModel)]="course.releaseDate" 
            name="releaseDate"
            #courseRelease="ngModel" 
            class="col-sm-2 form-control"
            required="true" 
            type="date" 
            min="2020-01-01"
            [ngClass]="{'is-invalid' : courseRelease.invalid}"
         >
         <div class="invalid-feedback">
            <span>Course duration is required!!</span>
         </div>
      </div>
   </div>   
   
   <div class="form-group row">
      <label class="col-sm-1 col-form-label">Name:</label>
      <div class="col-sm-6">
         <input 
            [(ngModel)]="course.name" 
            name="name" 
            #courseName="ngModel" 
            class="form-control"
            required="true"
            minlength="10"
            maxlength="30"
            [ngClass]="{'is-invalid' : courseName.invalid}"
         >
         <div class="invalid-feedback">
            <span>Course name is required!!</span>
         </div>
      </div>
   </div>
   
   <div class="form-group row">
      <label class="col-sm-1 col-form-label">Price:</label>
      <div class="col-sm-6">
         <input 
         [(ngModel)]="course.price" 
         name="price" 
         #coursePrice="ngModel" 
         class="form-control" 
         required="true"
         type="number"
         min="0"
         [ngClass]="{'is-invalid' : coursePrice.invalid}"
         >
         <div class="invalid-feedback">
            <span>Course price is invalid!!</span>
         </div>
      </div>
   </div>

   <div class="form-group row">
      <label class="col-sm-1 col-form-label">Rating:</label>
      <div class="col-sm-6">
         <input 
            [(ngModel)]="course.rating" 
            name="rating" 
            #courseRating="ngModel" 
            class="form-control" 
            required="true"
            type="number"
            min="0"
            [ngClass]="{'is-invalid' : courseRating.invalid}">
         <div class="invalid-feedback">
            <span>Course rating is required!!</span>
         </div>
      </div>
   </div>
   
   <div class="form-group row">
      <label class="col-sm-1 col-form-label">Description:</label>
      <div class="col-sm-6">
         <textarea 
            [(ngModel)]="course.description" 
            name="description" 
            #courseDescription="ngModel" 
            class="form-control" 
            required="true"
            minlength="30"
            [ngClass]="{'is-invalid' : courseDescription.invalid}"
         ></textarea>
         <div class="invalid-feedback">
            <span>Course Description is required!!</span>
         </div>
      </div>
   </div>

   <div class="form-group row">
      <label class="col-sm-1 col-form-label">Image Url:</label>
      <div class="col-sm-6">
         <input 
         type="file" 
         name="imageUrl" 
         accept="image/png, image/jpeg"
         [(ngModel)]="course.imageUrl" 
         #courseImageUrl="ngModel"
         class="form-control"
         [ngClass]="{'is-invalid' : courseImageUrl.invalid}"
         >
         <div class="invalid-feedback">
            <span>Course image url is required!!</span>
         </div>
      </div>
   </div>
   <button 
      [disabled]=courseForm.invalid 
      class="btn btn-primary"
      (click)="save()"
   >Save</button>
   <button 
      class="btn btn-secondary"
      [routerLink] = "['/courses']"
   >Back</button>
</form>
